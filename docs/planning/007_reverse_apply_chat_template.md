## User Story

As a developer, I want to extend our provider architecture to support reversing the
`apply_chat_template` function in `transformers.js`, enabling me to programmatically extract
structured chat messages from the formatted output. This will allow analyzing, editing, or
reformatting conversations generated by AI models.

## Acceptance Criteria

- Each provider (e.g., QwenProvider, DeepSeekProvider) implements a `reverseTemplate` method that
  handles its specific chat format.
- The provider's `reverseTemplate` method takes a formatted chat string and returns structured
  message objects with role and content.
- The provider's implementation handles its specific special tokens and template structure by using
  its own tokenizer configuration.
- The base provider class includes a default implementation that can be overridden by model-specific
  providers.
- The function includes robust error handling to gracefully manage unexpected or malformed chat
  output.

## Considerations

- Each provider should have access to its own `tokenizer_config.json` and tokenizer object to handle
  special tokens.
- The base provider should implement a generic template reversal that works for simple formats.
- Model-specific providers can override the base implementation to handle their unique formats
  (e.g., Qwen's think tags).
- The extracted messages should follow our standard Message type format.
- Any model-specific metadata (like "think" tags in Qwen) should be extracted into appropriate
  fields (e.g., "reasoning").
- The implementation should be testable with both the actual model output and synthetic examples.

## Implementation Notes

- Add `reverseTemplate` to the BaseProvider interface
- Implement default reverseTemplate in AbstractProvider
- Override in QwenProvider and DeepSeekProvider for their specific formats
- Add unit tests for each provider's template reversal
- Update the transformers.ts generateWithTransformers to use the provider's reverseTemplate method
